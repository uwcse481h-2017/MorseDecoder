<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>Morse Decoder</title>

    <!-- BOOTSTRAP -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <!-- PERSONAL -->
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <link rel="stylesheet" type="text/css" href="../css/profile.css">
    <!-- ICON -->
    <link rel="shortcut icon" href="../data/logo_square_fill.png">
    
</head>

<body>
    <!-- Navigation Bar -->
	<nav class="navbar nav navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="/">Morse Decoder</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                   <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user" aria-hidden="true"></i><%= user.general.username %> <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/profile">My Profile</a></li>                        
                        <li><a href="/signout">Sign Out</a></li>
                    </ul>
                </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container content">
        <div class="row">
            <div id="profilePicWrapper" class="col-md-3">
                <img id="profilePic" class="img-circle" src="<%= user.general.image %>"/>
            </div>  
            <div class="col-md-9">
                <h3> General Information </h3>
                <table id="infoTable" class="table">
                    <tbody>
                        <!--<tr>
                        <th>ID</th>
                            <td><%= user._id %></td>
                        </tr>-->
                        <tr>
                        <th>Username</th>
                            <td><%= user.general.username %></td>
                        </tr>
                        <tr>
                        <th>Email</th>
                            <td><%= user.general.email %></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <form id="selectLanguageForm" role="form">
                    <div class="form-group">
                        <input id="uid" class="form-control" name="uid" value="<%= user._id %>"/>
                        <label for="language"><h3>Speech Language</h3></label>
                        <select class="form-control" id="language" name="language" value="language">
                            <option>UK English Female</option>
                            <option>UK English Male</option>
                            <option>US English Female</option>
                            <option>Spanish Female</option>
                            <option>French Female</option>
                            <option>Deutsch Female</option>
                            <option>Italian Female</option>
                            <option>Greek Female</option>
                            <option>Hungarian Female</option>
                            <option>Turkish Female</option>
                            <option>Russian Female</option>
                            <option>Dutch Female</option>
                            <option>Swedish Female</option>
                            <option>Norwegian Female</option>
                            <option>Japanese Female</option>
                            <option>Korean Female</option>
                            <option>Chinese Female</option>
                            <option>Hindi Female</option>
                            <option>Serbian Male</option>
                            <option>Croatian Male</option>
                            <option>Bosnian Male</option>
                            <option>Romanian Male</option>
                            <option>Catalan Male</option>
                            <option>Australian Female</option>
                            <option>Finnish Female</option>
                            <option>Afrikaans Male</option>
                            <option>Albanian Male</option>
                            <option>Arabic Male</option>
                            <option>Armenian Male</option>
                            <option>Czech Female</option>
                            <option>Danish Female</option>
                            <option>Esperanto Male</option>
                            <option>Hatian Creole Female</option>
                            <option>Icelandic Male</option>
                            <option>Indonesian Female</option>
                            <option>Latin Female</option>
                            <option>Latvian Male</option>
                            <option>Macedonian Male</option>
                            <option>Moldavian Male</option>
                            <option>Montenegrin Male</option>
                            <option>Polish Female</option>
                            <option>Brazilian Portuguese Female</option>
                            <option>Portuguese Female</option>
                            <option>Serbo-Croatian Male</option>
                            <option>Slovak Female</option>
                            <option>Spanish Latin American Female</option>
                            <option>Swahili Male</option>
                            <option>Tamil Male</option>
                            <option>Thai Female</option>
                            <option>Vietnamese Male</option>
                            <option>Welsh Male</option>
                        </select>
                    </div>
                    <button class="btn btn-default">Select Language</button>
                </form>
            </div>

        </div>
    </div>
    
</body>
</html>

<script>
$('#selectLanguageForm').submit(function() {
        var uid =  $('#uid').val();
        var lang = $('#language').val();
        
        $.ajax({
            type: "POST",
            url: 'api/v1/selectLanguage' + '/' + uid + '/' + lang,
            data: { uid: uid, lang: lang },
            success: function(res) {
                console.log('it worked!')
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(xhr.status);
                console.log(thrownError);
            }
        });
        
        return false;
    });
</script>